<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Features :: Fruitymesh</title>
    <link rel="canonical" href="http://mwaylabs.github.io/fruitymesh/fruitymesh/Features.html">
    <meta name="generator" content="Antora 2.0.0">
    <link rel="stylesheet" href="../_/css/site.css">
  </head>
  <body class="article">
<header class="header" role="banner">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="http://mwaylabs.github.io/fruitymesh">Fruitymesh</a>
    </div>

    <div class="navbar-end">
      <div class="link navbar-item" id="header-github-logo">
        <a class="link navbar-item" href="https://github.com/mwaylabs/fruitymesh" target="_blank"></a>
      </div>
      <div class="navbar-item">
        <input id="search-input" type="text" placeholder="Search docs">
      </div>
    </div>
  </nav>
</header>
<div class="main-wrapper">
<div class="navigation-container" data-component="fruitymesh" data-version="master">
  <aside class="navigation" role="navigation">
    <div class="panels">
<div class="navigation-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title">
      <a href="index.html">fruitymesh</a>
    </h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Quick-Start.html">Quick Start</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Usage.html">Usage</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="Features.html">Features</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Developers.html">Developers</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Specification.html">Specification</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="Modules.html">Modules</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="AdvertisingModule.html">Advertising Module</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="DebugModule.html">Debug Module</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="DfuModule.html">DFU Module</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="EnrollmentModule.html">Enrollment Module</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="IoModule.html">IO Module</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="MeshAccessModule.html">Mesh Access Module</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Node.html">Node</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="ScanningModule.html">Scanning Module</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="StatusReporterModule.html">Status Report Module</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Other Classes</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Logger.html">Logger</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="RecordStorage.html">Record Storage</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Other</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Class-Structure.html">Class Structure</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Debugging.html">Debugging</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Battery-Consumption.html">Baterry Consumption</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="RecordStorage.html">Record Storage</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="The-FruityMesh-Algorithm.html">The Fruitymesh Algorithm</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="The-Algorithm-in-Detail.html">The Algorithm in Detail</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Simulator.html">Simulator</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="Tutorials.html">Tutorials</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Implementing-a-Custom-Module.html">Implementing a Costom Module</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="FAQ.html">FAQ</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="navigation-explore" data-panel="explore">
  <div class="context">
    <span class="title">fruitymesh</span>
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">fruitymesh</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
  <main class="main" role="main">
<div class="toolbar" role="navigation">
  <button class="navigation-toggle"></button>
  <a href="index.html" class="home-link"></a>
<nav class="crumbs" role="navigation" aria-label="breadcrumbs">
  <ul>
    <li class="crumb"><a href="index.html">fruitymesh</a></li>
    <li class="crumb"><a href="Features.html">Features</a></li>
  </ul>
</nav>
</div>
<article class="doc">
<h1>Features</h1>
<div id="preamble">
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Automatic meshing and self-healing capabilities with
<a href="The-FruityMesh-Algorithm.html" class="page">The FruityMesh Algorithm</a></p>
</li>
<li>
<p>UART Terminal to execute commands with a list of arguments for either
manual or automated communication with a MeshGateway (see
<a href="Usage.html" class="page">Usage</a>)</p>
</li>
<li>
<p>Debug Logger with support for filtering log tags (see
<a href="Usage.html" class="page">Usage</a>)</p>
</li>
<li>
<p>Modular structure with persistent module configurations (see
<a href="Modules.html" class="page">Modules</a>)</p>
</li>
<li>
<p>Encrypted mesh and Smartphone connections</p>
</li>
<li>
<p><a href="AdvertisingModule.html" class="page">AdvertisingModule</a> for configuring custom
broadcast messages such as EddyStone or iBeacon</p>
</li>
<li>
<p><a href="StatusReporterModule.html" class="page">StatusReporterModule</a> for monitoring
the nodes</p>
</li>
<li>
<p><a href="EnrollmentModule.html" class="page">EnrollmentModule</a> for provisioning nodes
(locally or over an existing mesh) and giving them access to a mesh</p>
</li>
<li>
<p><a href="IoModule.html" class="page">IoModule</a> for signaling commands using leds or
other pins</p>
</li>
<li>
<p><a href="MeshAccessModule.html" class="page">MeshAccessModule</a> for handling connections
from/to Smartphones and other devices</p>
</li>
<li>
<p>Time Synchronisation over the mesh (see <a href="Usage.html" class="page">Usage</a>)</p>
</li>
<li>
<p><a href="RecordStorage.html" class="page">RecordStorage</a> A record based filesystem for
storing data in flash</p>
</li>
<li>
<p>Automatic packet splitting if packets are bigger than the connection
MTU.</p>
</li>
<li>
<p>Automatic cycling of different advertising messages with the
AdvertisingController.</p>
</li>
<li>
<p><a href="#_watchdog_with_safe_boot_mode">Watchdog with Safe Boot mode</a></p>
</li>
<li>
<p>Low <a href="Battery-Consumption.html" class="page">Battery Consumption</a></p>
</li>
<li>
<p><a href="#_sink_determination">Sink Determination</a></p>
</li>
<li>
<p><a href="#_error_log_and_live_error_reporting">Error Log and Live Error Reporting</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_closed_source_features"><a class="anchor" href="#_closed_source_features"></a>Closed Source features</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A number of modules of FruityMesh are not yet
open source but can be used by our customers. Contact us if you are
interested.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="DfuModule.html" class="page">DfuModule</a> firmware updates over the mesh, not
limited to FruityMesh but also available for connected controllers.</p>
</li>
<li>
<p><a href="#">AssetModule.adoc</a> broadcasting of asset telemetry
messages that can be located indoors by our infrastructure.</p>
</li>
<li>
<p>We have already implemented a number of Custom modules and
customization of FruityMesh for many of our customers.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_feature_roadmap"><a class="anchor" href="#_feature_roadmap"></a>Feature Roadmap</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Coming soon to GitHub: Our CherrySim - written in C++ - simulates the mesh using the FruityMesh code and allows us to implement unit and system tests.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/img/cherrysim.png" alt="cherrysim"></span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_features_in_detail"><a class="anchor" href="#_features_in_detail"></a>Features in Detail</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_sink_determination"><a class="anchor" href="#_sink_determination"></a>Sink Determination</h3>
<div class="paragraph">
<p>During clustering, a new node will do a handshake with its partner node, where they exchange information about the network structure. This includes the cluster size and also the master bit that is used to determine which cluster must dissolve if a connection is lost. Also included in this handshake is the number of hops to the sink (MeshGateway). This information is also included in clusterInfoUpdate packets which notify all nodes about changes in the network.</p>
</div>
<div class="paragraph">
<p>If a sink is available through a connection, the number of hops to that sink will be sent with these packets. The sink itself has 0 hops to the sink. If there is no sink available, it is denoted with -1.</p>
</div>
</div>
<div class="sect2">
<h3 id="_watchdog_with_safe_boot_mode"><a class="anchor" href="#_watchdog_with_safe_boot_mode"></a>Watchdog with Safe Boot mode</h3>
<div class="paragraph">
<p>The hardware watchdog is configured to restart a node after a certain time if it does not receive a keep alive packet from the gateway in the meantime. This is the last fallback to recover a node if there is some critical unknown issue. This issue will then be reported as a watchdog reboot using the error log of a node.</p>
</div>
<div class="paragraph">
<p>It is possible to configure the watchdog to use safe boot. In safe boot mode, the node will boot up without loading any persistant configuration. This will also mean that the node will not be enrolled in this mode, but it will reboot again in normal mode after the watchdog triggers again. This makes it possible to rescue a node that received a faulty persistent configuration.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_error_log_and_live_error_reporting"><a class="anchor" href="#_error_log_and_live_error_reporting"></a>Error Log and Live Error Reporting</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Each node can store a number of errors in ram. The timestamp, error code and some extra information can be stored. This log can be queried every few minutes or hours. The errors have different significance and some information is logged using a counter that always increments. This statistical information can be used to determine the health of a live mesh and to monitor it. Storing the errors is necessary as they might be generated while a node is disconnected from the mesh. The error log will be cleared once the errors have been queried.</p>
</div>
<div class="paragraph">
<p>Additionally, live error logging can be used to send information about errors through the mesh instantly. This will of course only work if the node is part of the mesh.</p>
</div>
</div>
</div>
</article>
  </main>
</div>
<footer class="footer">
  <p>Build with Antora</p>
</footer>
<script src="../_/js/site.js"></script>
<script src="../_/js/vendor/lunr.js"></script>
<script>antoraLunr.init("../_/../search_index.json")</script>
<script src="../_/js/vendor/highlight.js"></script>
<script>hljs.initHighlighting()</script>

  </body>
</html>
