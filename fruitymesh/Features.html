<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Features :: Fruitymesh</title>
  <link rel="canonical" href="http://mwaylabs.github.io/fruitymesh/fruitymesh/Features.html">
  <meta name="generator" content="Antora 2.0.0">
  <link rel="stylesheet" href="../_/css/site.css">
  <link rel="stylesheet" href="../_/css/footer.css">
</head>

<body class="article">
  <header class="header" role="banner">
<header class="header" role="banner">
  <div class="navbar-top">
    <a class="navbar-logo" id="fruitymesh-logo-padding" href="https://mwaylabs.github.io/fruitymesh/fruitymesh/index.html">
      <div class="navbar-item">
        <img src="../_/img/fruitymesh_logo.png" alt="Fruitymesh">
      </div>
    </a>
    <div class="navbar-item">
      <div id="search-wrapper" class="border-color-fruitymesh>
        <input id="search-input" type="text" placeholder="Search...">
      </div>
    </div>
  </div>
  <nav class="navbar-bottom fruitymesh-header-color">
    <a href="https://github.com/mwaylabs/fruitymesh">
      <div class="navbar-item">Fruitymesh on Github</div>
    </a>
  </nav>
</header>

</header>
  <div class="main-wrapper">
<div class="navigation-container" data-component="" data-version="master">
  <aside class="navigation" role="navigation">
    <div class="panels">
<div class="navigation-menu is-active" data-panel="menu">
  <button class="navigation-toggle"></button>
  <nav class="nav-menu">
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
    <ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Quick-Start.html">Quick Start</a>
      </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Usage.html">Usage</a>
      </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="Features.html">Features</a>
      </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Developers.html">Developers</a>
      </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Specification.html">Specification</a>
      </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="Modules.html">Modules</a>
    <ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="AdvertisingModule.html">Advertising Module</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="DebugModule.html">Debug Module</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="DfuModule.html">DFU Module</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="EnrollmentModule.html">Enrollment Module</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="IoModule.html">IO Module</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="MeshAccessModule.html">Mesh Access Module</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Node.html">Node</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="ScanningModule.html">Scanning Module</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="StatusReporterModule.html">Status Report Module</a>
      </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Other Classes</span>
    <ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Logger.html">Logger</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="RecordStorage.html">Record Storage</a>
      </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Other</span>
    <ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Class-Structure.html">Class Structure</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Debugging.html">Debugging</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Battery-Consumption.html">Battery Consumption</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="RecordStorage.html">Record Storage</a>
      </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="The-FruityMesh-Algorithm.html">The Fruitymesh Algorithm</a>
    <ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="The-Algorithm-in-Detail.html">The Algorithm in Detail</a>
      </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Simulator.html">Simulator</a>
      </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="Tutorials.html">Tutorials</a>
    <ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Implementing-a-Custom-Module.html">Implementing a Custom Module</a>
      </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="FAQ.html">FAQ</a>
      </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="navigation-explore" data-panel="explore">
  <div class="context">
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
  <main class="main" role="main">
<article class="doc"><a name="section-top"></a>
<h1>Features</h1>
<div id="preamble">
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Automatic meshing and self-healing capabilities with
<a href="The-FruityMesh-Algorithm.html" class="page">The FruityMesh Algorithm</a></p>
</li>
<li>
<p>UART Terminal to execute commands with a list of arguments for
manual or automated communication with a MeshGateway (cf.
<a href="Usage.html" class="page">Usage</a>)</p>
</li>
<li>
<p>Debug Logger with support for filtering log tags (cf.
<a href="Usage.html" class="page">Usage</a>)</p>
</li>
<li>
<p>Modular structure with persistent module configurations (cf.
<a href="Modules.html" class="page">Modules</a>)</p>
</li>
<li>
<p>Encrypted mesh and smartphone connections</p>
</li>
<li>
<p><a href="AdvertisingModule.html" class="page">AdvertisingModule</a> for configuring custom
broadcast messages such as EddyStone or iBeacon</p>
</li>
<li>
<p><a href="StatusReporterModule.html" class="page">StatusReporterModule</a> for monitoring
the nodes</p>
</li>
<li>
<p><a href="EnrollmentModule.html" class="page">EnrollmentModule</a> for provisioning nodes
(locally or over an existing mesh) and giving them access to a mesh</p>
</li>
<li>
<p><a href="IoModule.html" class="page">IoModule</a> for signalling commands using LEDs or
other pins</p>
</li>
<li>
<p><a href="MeshAccessModule.html" class="page">MeshAccessModule</a> for handling connections
from/to smartphones and other devices</p>
</li>
<li>
<p>Time synchronisation over the mesh (cf. <a href="Usage.html" class="page">Usage</a>)</p>
</li>
<li>
<p><a href="RecordStorage.html" class="page">RecordStorage</a>, a record based file system for
storing data in flash</p>
</li>
<li>
<p>Automatic packet splitting if packets are bigger than the connection
MTU</p>
</li>
<li>
<p>Automatic cycling of different advertising messages with the
AdvertisingController</p>
</li>
<li>
<p><a href="#_watchdog_with_safe_boot_mode">Watchdog With Safe Boot Mode</a></p>
</li>
<li>
<p>Low <a href="Battery-Consumption.html" class="page">Battery Consumption</a></p>
</li>
<li>
<p><a href="#_sink_determination">Sink Determination</a></p>
</li>
<li>
<p><a href="#_error_log_live_error_reporting">Error Log &amp; Live Error Reporting</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_closed_source_features"><a class="anchor" href="#_closed_source_features"></a>Closed Source Features</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A number of modules of FruityMesh are not yet
open source but can be used by customers. Contact us if you are
interested.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="DfuModule.html" class="page">DfuModule</a> firmware updates over the mesh, not
limited to FruityMesh, but also available for connected controllers</p>
</li>
<li>
<p><a href="#">bluerange-firmware:ROOT:AssetModule.adoc</a>: Broadcasting of asset telemetry
messages that can be located indoors by our infrastructure</p>
</li>
<li>
<p>A number of <a href="Tutorials.html" class="page">custom modules</a> and customization of FruityMesh have
already been implemented for many customers.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_feature_roadmap"><a class="anchor" href="#_feature_roadmap"></a>Feature Roadmap</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Coming soon to GitHub:</p>
</div>
<div class="paragraph">
<p>CherrySim, written in C++, simulates the mesh using the FruityMesh code and allows to implement unit and system tests.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/cherrysim.png" alt="cherrysim"></span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_feature_details"><a class="anchor" href="#_feature_details"></a>Feature Details</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_sink_determination"><a class="anchor" href="#_sink_determination"></a>Sink Determination</h3>
<div class="paragraph">
<p>During clustering, a new node performs a handshake with its partner node and exchanges information about the network structure. This includes the cluster size and also the master bit that is used to determine which cluster must dissolve if a connection is lost. This handshake also includes the number of hops to the sink (MeshGateway). This information is also included in the clusterInfoUpdate packets that notify all nodes about changes in the network.</p>
</div>
<div class="paragraph">
<p>If a sink is available through a connection, the number of hops to this sink will be sent with these packets. The sink itself has 0 hops to the sink. If there is no sink available, it is denoted with -1.</p>
</div>
</div>
<div class="sect2">
<h3 id="_watchdog_with_safe_boot_mode"><a class="anchor" href="#_watchdog_with_safe_boot_mode"></a>Watchdog With Safe Boot Mode</h3>
<div class="paragraph">
<p>The hardware watchdog is configured to restart a node after a certain time if it doesn&#8217;t receive a keep alive packet from the gateway in the meantime. This is the last fallback to recover a node if there is some critical unknown issue. This issue will then be reported as a watchdog reboot using the error log of a node.</p>
</div>
<div class="paragraph">
<p>It is possible to configure the watchdog to use safe boot. In safe boot mode, the node will boot up without loading any persistant configuration. This also means that the node will not be enrolled in this mode, but it will reboot in normal mode after the watchdog triggers again. This makes it possible to rescue a node that received a faulty persistent configuration.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_error_log_live_error_reporting"><a class="anchor" href="#_error_log_live_error_reporting"></a>Error Log &amp; Live Error Reporting</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Each node can store a number of errors in RAM. The timestamp, error code and some extra information can be stored. This log can be queried every few minutes or hours. The errors have different significance and some information is logged using a counter that always increments. This statistical information can be used to determine the health of a live mesh and to monitor it. Storing the errors is necessary as they might be generated while a node is disconnected from the mesh. The error log will be cleared once the errors have been queried.</p>
</div>
<div class="paragraph">
<p>Additionally, live error logging can be used to send information about errors through the mesh instantly. This will only work if the node is part of the mesh.</p>
</div>
</div>
</div>
</article>
<aside class="article-aside hidden" role="navigation">
  <h3 class="toc-title">Features</h3>
  <div id="article-toc"></div>
</aside>
  </main>
</div>
  <footer class="footer fruitymesh-footer-padding">
<p>This project is under active development at the <a href="http://www.mwaysolutions.com/" >M-Way Solutions GmbH,</a> Germany.</p>
<p>We use FruityMesh ourselves in conjunction with our custom MeshGateway to build services such as connected lights, asset tracking and much more for our customers.</p>
</footer>
<script type="text/javascript">
  window.antora = window.antora || {}
  window.antora.basePath = '..'
  window.antora.pagePath = '/fruitymesh/Features.html'
</script>
<script src="../_/js/site.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.6/lunr.min.js"></script>
<script src="../_/js/vendor/search.js"></script>
<script async src="../_/../search-index.js"></script>
<script src="../_/js/vendor/highlight.js"></script>
<script src="../_/js/vendor/zoom.js"></script>
<script>hljs.initHighlighting()</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.1.1/tocbot.min.js"></script>
<script>
  tocbot.init({
    tocSelector: '#article-toc',
    contentSelector: 'article',
    headingSelector: 'h2, h3, h4, h5, h6',
    collapseDepth: 6,
    positionFixedSelector: '#article-toc',
    scrollSmooth: true,
  });
  var tocList = document.getElementById('article-toc').getElementsByClassName('toc-list');
  if (tocList && tocList.length > 0 && tocList[0].childNodes.length > 0) {
    document.getElementById('article-toc').parentNode.classList.remove('hidden');
  }
</script>
</body>

</html>
